logging_level: INFO
solve_network: solve  #solve, skip

results_dir: 'results'
costs_dir: '../technology-data/outputs'

run: 'test-IE-CFEFIX'

# from ../pypsa-eur-sec/results/.../prenetworks-brownfield
network_file: 'data/v4_elec_s_37_lv1.0__3H-H-B-solar+p3-dist1_2030.nc'

scenario:
  policy: ["res100", "cfe80", "cfe85", "cfe90", "cfe95", "cfe98", "cfe100"]
  palette: ["p1", # onwind + solar + battery
            #"p2", # onwind + solar + battery + LDES
            #"p3", # onwind + solar + battery + LDES + clean dispatchable gen
            ]

#parameters for stripping sector-coupled network
basenodes_to_keep:  ["GB5 0", "IE5 0", "GB0 0"] #Ireland
                  # ["DE1 0"]
                  # ["GB5 0", "IE5 0", "GB0 0"] #Ireland
                  # ["DK1 0", "DK2 0", "SE2 0", "NO2 0", "NL1 0", "DE1 0"] #Nordic


country_nodes:  ["IE5 0"] # ["DK1 0", "DK2 0"]
country_res_target: 0.8

#nodes_for_cfe:  ["IE5 0"]
                # ["IE5 0"] #["GB5 0", "IE5 0", "GB0 0"] 
                # ["DK1 0", "DK2 0", "SE2 0", "NO2 0", "NL1 0", "DE1 0"]


node_suffixes_to_keep: ["H2","battery","low voltage","home battery", 
                        #"urban central heat", # to add heating profile for CHP
                        ]                  
carrier_to_keep: ["offwind","offwind-ac","offwind-dc","solar","solar rooftop","onwind","ror", #generators
                  "PHS","hydro", #storage units
                  "AC", #lines
                  "DC", #links
                  "nuclear", "uranium", "gas","OCGT","CCGT","oil", "lignite", "coal",
                  "H2 Electrolysis","H2 Fuel Cell","H2 pipeline",
                  "home battery charger","home battery discharger",
                  "battery charger","battery discharger",
                  "electricity distribution grid",
                  "H2 Store","co2","co2 stored","battery","home battery", #Stores
                  "electricity",  #Loads | "industry electricity" 
                  "urban central solid biomass CHP",
                  "solid biomass" #to keep store with biomass potentials
                    ]  
additional_nodes: ["EU oil","EU gas", "EU lignite", "EU coal", "EU uranium", "co2 atmosphere","co2 stored",
                   "EU solid biomass"] #BIOMASS
nodes_with_nucsban: ["DE1 0"]


#global policy
global:
  policy_type: "co2 price" # one of ["co2 cap", "co2 price"]
  co2_baseline: 1.2e+7  #MtCO2/a - rough "energy industries" emissions in 1990 and 2020 in IE: 1.2e7
  co2_share: 0.5 #pu  - rough target for 2030
  co2_price: 130 #EUR/tCO2
  grid_res_techs: ["offwind","offwind-ac","offwind-dc","onwind", "ror", "solar","solar rooftop", "hydro","urban central solid biomass CHP"]
  grid_clean_techs: ["offwind","offwind-ac","offwind-dc","onwind", "ror", "solar","solar rooftop",
                    "hydro", "nuclear", "urban central solid biomass CHP"]
  emitters: ["CCGT", "OCGT", "coal", "lignite", "oil"]

#data center
ci:
  name: "google"
  node:  "IE5 0"  # "DK1 0"  #"IE5 0"
  load: 1000.
  res_techs: ["onwind","solar"]


# for calculation of system expansion beyond CI node in pypsa-eur-sec 2030 brownfield network
exp_generators: ['offwind-ac-2030', 'offwind-dc-2030', 'onwind-2030', 'solar-2030', 'solar rooftop-2030']
exp_links: ['OCGT-2030']
exp_chargers: ["battery charger-2030", "H2 Electrolysis-2030"]
exp_dischargers: ["battery discharger-2030", "H2 Fuel Cell-2030"]


costs:
  projection_year: 2030
  lifetime: 25 #default lifetime
  discountrate: 0.07  # From a Lion Hirth paper, also reflects average of Noothout et al 2016
  USD2013_to_EUR2013: 0.7532 # [EUR/USD] ECB: https://www.ecb.europa.eu/stats/exchange/eurofxref/html/eurofxref-graph-usd.en.html # noqa: E501
  price_green_hydrogen: 3 #EUR/kg
  adv_nuclear_overnight: 7138 # $/kW 2030 CAPEX

solving:
  #tmpdir: "path/to/tmp"
  options:
    formulation: kirchhoff
    n_iterations: 2  #iterations with CFE factor
  solver:
    algo: gurobi
    threads: 4
    method: 2 # barrier
    crossover: 0
    BarConvTol: 1.e-5
    Seed: 123
    AggFill: 0
    PreDual: 0
    GURO_PAR_BARDENSETHRESH: 200


tech_colors:
  "green hydrogen OCGT": "g"
  "onwind": "b"
  "wind": "b"
  "local": "#b474b4"
  "PPA": "#b474b4"
  "grid": "#9ccc65"
  "grid imports": "#9ccc65"
  "adv_nuclear": "r"
  "advanced nuclear": "#df3439"
  "advanced dispatchable": "#df3439"
  "battery": "#666666"
  "hydrogen storage": "#990090"
  "solar": "y"
  "revenue": "g"
  "battery_inverter": "#444444"
  "battery_storage": "#666666"
  "hydrogen_storage": "#ea048a"
  "hydrogen_fuel_cell": "#990090"
  "hydrogen_electrolysis": "#550055"
  "offwind-ac": "#6895dd"
  "offwind-dc": "#74c6f2"
  "onwind": "#235ebc"
  "solar": "#f9d002"
  "solar_rooftop": '#ffef60'
  "OCGT": "#d35050"
  "CCGT": "#b20101"